import groovy.xml.MarkupBuilder
StringWriter writer = new StringWriter()
MarkupBuilder home = new MarkupBuilder(writer)


home.html {
    head {
        title("CITE Collections Query Extension")
        link(type : "text/css", rel : "stylesheet", href : "ctskit/css/normalize.css", title : "CSS stylesheet")
        link(type : "text/css", rel : "stylesheet", href : "ctskit/css/simple.css", title : "CSS stylesheet")
        link(type : "text/css", rel : "stylesheet", href : "ctskit/css/citeCollection.css", title : "CSS stylesheet")
        link(type : "text/css", rel : "stylesheet", href : "ctskit/css/tei.css", title : "CSS stylesheet")
        p('class' : "menu") {
              mkp.yield "CITE Collections service: "
              a (href : "home", "home")
          }
    }
    body {
        div('id' : "header") { 
        	p(" ")
        }
        div {
            h1("CITE Collections Query Extension")
            p("Currently in development: ")
            ul {
                li("count")
                li("aggregate")
            }

            p {
                mkp.yield("The examples below use the Greek paleography collection of the Open Paleography project, with URN ")
                code("urn:cite:op:greek")
            }
            p("Available for testing:")
            
            h2("List objects")
            p("See accompanying notes on query syntax to make sense of this. ")
        
            form(action : "list", method : "GET")  {
                input(name : "coll", value : "urn:cite:hmt:scholiaset")
                input(name : "prop", value : "Sequence")
                input(name : "Sequence", value : "1")
                input (type: "submit", value : "Submit")
            }
            

            h2("Show object")
            p("As currently implemented, this is little more than an alternate syntax for the CITE Collection GetObject request.")
            p("It is included here because it could be a useful function to modify for one-off applications.")


            h2("Visual aggregate")

            p("In a collection with an image property, you can use this method to get a list of values to map onto image RoIs.")

            p("Supply a URN identifying a collection; returns the URN identifying the first object in the collection.")
            form(action : "imgmap", method : "GET")  {
                label(for: "coll", "Collection to plot")
                input(name : "coll", value : "urn:cite:botcar:sloane")
                label(for: "img", "Image to plot on")
                input(name: "img", value : "urn:cite:fufolioimg:Caroliniana.Catesby_HS212_007_0504")
                label(for: "map", "Property to illustrate")
                input(name: "map", value: "scientificName")
                label(for: "imgProp", "Property with image map data")
                input(name: "imgProp", value: "folioImageROI")
                input (type: "submit", value : "Submit")
            }

        }
    }
}

println writer.toString()
